<!DOCTYPE html>
<html>
<head>
    <meta http-equiv='content-type' content='text/html' charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=Edge, chrome=1'>
    <meta name='author' content='ckcz123'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=yes'>
    <title>50层魔塔</title>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
    <meta name="screen-orientation" content="portrait">
    <meta name="full-screen" content="yes">
    <meta name="browsermode" content="application">
    <meta name="x5-orientation" content="portrait">
    <meta name="x5-fullscreen" content="true">
    <meta name="x5-page-mode" content="app">
    <link type='text/css' href='styles.css' rel='stylesheet'>
</head>
<body>
<div id='startImageBackgroundDiv'>
    <div id='startImageDiv'></div>
    <img id='startImageLogo' />
</div>
<script>
    (function () {
        var startImageBackgroundDiv = document.getElementById('startImageBackgroundDiv');
        var startImageLogo = document.getElementById('startImageLogo');
        var startImageDiv = document.getElementById('startImageDiv');
        startImageLogo.onload = function () {
            startImageBackgroundDiv.style.display = 'block';
            var onAnimationEnd = function () {
                startImageBackgroundDiv.style.display = 'none';
                startImageLogo.classList.remove("startImageAnimation");
                startImageDiv.classList.remove("startImageDivAnimation");
            }
            startImageDiv.addEventListener("webkitAnimationEnd", onAnimationEnd);
            startImageDiv.addEventListener("animationend", onAnimationEnd);
            startImageLogo.classList.add("startImageAnimation");
            startImageDiv.classList.add("startImageDivAnimation");
            // 注释下面这句话以禁止单击立刻跳过开场动画
            startImageBackgroundDiv.onclick = onAnimationEnd;
        }
        startImageLogo.onerror = function () {}
        startImageLogo.src = "logo.png";
    })();
</script>
<div id='gameGroup'>
    <p id='mainTips'>请稍后...</p>
    <img id='musicBtn'>
    <div id='startPanel'>
        <div id='startTop'>
            <div id='startTopProgressBar'>
                <div id='startTopProgress'></div>
            </div>
            <p id='startTopLoadTips'>资源即将开始加载</p>
            <p id='startTopHint'>HTML5魔塔游戏平台，享受更多魔塔游戏：<br/>https://h5mota.com/</p>
        </div>
        <img id='startBackground'>
        <p id='startLogo'></p>
        <div id='startButtonGroup'>
            <div id='startButtons'>
                <span class='startButton' id='playGame'>开始游戏</span>
                <span class='startButton' id='loadGame'>载入游戏</span>
                <span class='startButton' id='replayGame'>录像回放</span>
            </div>
            <div id='levelChooseButtons'></div>
        </div>
    </div>
    <canvas id='outerBackground' width='640' height='422'></canvas>
    <canvas id='outerUI' width='640' height='422'></canvas>
    <div id="gameDraw">
        <div id="gif"></div>
        <div id="gif2"></div>
        <canvas class='gameCanvas' id='bg' width='352' height='352'></canvas>
        <canvas class='gameCanvas' id='event' width='352' height='352'></canvas>
        <canvas class='gameCanvas' id='hero' width='352' height='352'></canvas>
        <canvas class='gameCanvas' id='event2' width='352' height='352'></canvas>
        <canvas class='gameCanvas' id='fg' width='352' height='352'></canvas>
        <canvas class='gameCanvas' id='damage' width='352' height='352'></canvas>
        <canvas class='gameCanvas' id='animate' width='352' height='352'></canvas>
        <canvas class='gameCanvas' id='curtain' width='352' height='352'></canvas>
        <canvas class='gameCanvas' id='ui' width='352' height='352'></canvas>
        <canvas class='gameCanvas' id='data' width='352' height='352'>此浏览器不支持HTML5</canvas>
        <div id="next"></div>
    </div>
</div>
<div id='inputDiv'>
    <div id='inputDialog'>
        <p id="inputMessage">请输入文字...</p>
        <input id='inputBox' type="text" autocomplete="off"/>
        <button id='inputYes'>确定</button>
        <button id='inputNo'>取消</button>
    </div>
</div>
<script src='libs/thirdparty/lz-string.min.js'></script>
<script src='libs/thirdparty/priority-queue.min.js'></script>
<script src='libs/thirdparty/localforage.min.js'></script>
<script src='libs/thirdparty/zip.min.js'></script>
<script id='mainScript' src='main.js'></script>
<script>main.init('play');main.listen();</script>
</body>
</html>